!function(e){e.isScrollToFixed=function(o){return!!e(o).data("ScrollToFixed")},e.ScrollToFixed=function(o,t){var i=this;i.$el=e(o),i.el=o,i.$el.data("ScrollToFixed",i);var n,r,l,s,a=!1,d=i.$el,c=0,u=0,f=-1,p=-1,m=null;function x(){var e=i.options.limit;return e?"function"==typeof e?e.apply(d):e:0}function h(){return"fixed"===n}function w(){return"absolute"===n}function g(){return!(h()||w())}function b(){if(!h()){var e=d[0].getBoundingClientRect();m.css({display:d.css("display"),width:e.width,height:e.height,float:d.css("float")}),cssOptions={"z-index":i.options.zIndex,position:"fixed",top:-1==i.options.bottom?T():"",bottom:-1==i.options.bottom?"":i.options.bottom,"margin-left":"0px"},i.options.dontSetWidth||(cssOptions.width=d.css("width")),d.css(cssOptions),d.addClass(i.options.baseClassName),i.options.className&&d.addClass(i.options.className),n="fixed"}}function v(){var e=x(),o=u;i.options.removeOffsets&&(o="",e-=c),cssOptions={position:"absolute",top:e,left:o,"margin-left":"0px",bottom:""},i.options.dontSetWidth||(cssOptions.width=d.css("width")),d.css(cssOptions),n="absolute"}function S(){g()||(p=-1,m.css("display","none"),d.css({"z-index":s,width:"",position:r,left:"",top:l,"margin-left":""}),d.removeClass("scroll-to-fixed-fixed"),i.options.className&&d.removeClass(i.options.className),n=null)}function y(e){e!=p&&(d.css("left",u-e),p=e)}function T(){var e=i.options.marginTop;return e?"function"==typeof e?e.apply(d):e:0}function F(){if(e.isScrollToFixed(d)&&!d.is(":hidden")){var o=a,t=g();a?g()&&(c=d.offset().top,u=d.offset().left):(d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed"),p=-1,c=d.offset().top,u=d.offset().left,i.options.offsets&&(u+=d.offset().left-d.position().left),-1==f&&(f=u),n=d.css("position"),a=!0,-1!=i.options.bottom&&(d.trigger("preFixed.ScrollToFixed"),b(),d.trigger("fixed.ScrollToFixed")));var l=e(window).scrollLeft(),s=e(window).scrollTop(),m=x();i.options.minWidth&&e(window).width()<i.options.minWidth?g()&&o||(D(),d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed")):i.options.maxWidth&&e(window).width()>i.options.maxWidth?g()&&o||(D(),d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed")):-1==i.options.bottom?m>0&&s>=m-T()?t||w()&&o||(D(),d.trigger("preAbsolute.ScrollToFixed"),v(),d.trigger("unfixed.ScrollToFixed")):s>=c-T()?(h()&&o||(D(),d.trigger("preFixed.ScrollToFixed"),b(),p=-1,d.trigger("fixed.ScrollToFixed")),y(l)):g()&&o||(D(),d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed")):m>0?s+e(window).height()-d.outerHeight(!0)>=m-(T()||-function(){if(!i.options.bottom)return 0;return i.options.bottom}())?h()&&(D(),d.trigger("preUnfixed.ScrollToFixed"),"absolute"===r?v():S(),d.trigger("unfixed.ScrollToFixed")):(h()||(D(),d.trigger("preFixed.ScrollToFixed"),b()),y(l),d.trigger("fixed.ScrollToFixed")):y(l)}}function D(){var e=d.css("position");"absolute"==e?d.trigger("postAbsolute.ScrollToFixed"):"fixed"==e?d.trigger("postFixed.ScrollToFixed"):d.trigger("postUnfixed.ScrollToFixed")}var k=function(e){d.is(":visible")?(a=!1,F()):S()},C=function(e){window.requestAnimationFrame?requestAnimationFrame(F):F()};i.init=function(){i.options=e.extend({},e.ScrollToFixed.defaultOptions,t),s=d.css("z-index"),i.$el.css("z-index",i.options.zIndex),m=e("<div />"),n=d.css("position"),r=d.css("position"),d.css("float"),l=d.css("top"),g()&&i.$el.after(m),e(window).bind("resize.ScrollToFixed",k),e(window).bind("scroll.ScrollToFixed",C),"ontouchmove"in window&&e(window).bind("touchmove.ScrollToFixed",F),i.options.preFixed&&d.bind("preFixed.ScrollToFixed",i.options.preFixed),i.options.postFixed&&d.bind("postFixed.ScrollToFixed",i.options.postFixed),i.options.preUnfixed&&d.bind("preUnfixed.ScrollToFixed",i.options.preUnfixed),i.options.postUnfixed&&d.bind("postUnfixed.ScrollToFixed",i.options.postUnfixed),i.options.preAbsolute&&d.bind("preAbsolute.ScrollToFixed",i.options.preAbsolute),i.options.postAbsolute&&d.bind("postAbsolute.ScrollToFixed",i.options.postAbsolute),i.options.fixed&&d.bind("fixed.ScrollToFixed",i.options.fixed),i.options.unfixed&&d.bind("unfixed.ScrollToFixed",i.options.unfixed),i.options.spacerClass&&m.addClass(i.options.spacerClass),d.bind("resize.ScrollToFixed",function(){m.height(d.height())}),d.bind("scroll.ScrollToFixed",function(){d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed"),F()}),d.bind("detach.ScrollToFixed",function(o){!function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}(o),d.trigger("preUnfixed.ScrollToFixed"),S(),d.trigger("unfixed.ScrollToFixed"),e(window).unbind("resize.ScrollToFixed",k),e(window).unbind("scroll.ScrollToFixed",C),d.unbind(".ScrollToFixed"),m.remove(),i.$el.removeData("ScrollToFixed")}),k()},i.init()},e.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},e.fn.scrollToFixed=function(o){return this.each(function(){new e.ScrollToFixed(this,o)})}}(jQuery),function(){var e,o,t,i,n={frameRate:150,animationTime:400,stepSize:100,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},r=n,l=!1,s=!1,a={x:0,y:0},d=!1,c=document.documentElement,u=[],f=/^Mac/.test(navigator.platform),p={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},m={37:1,38:1,39:1,40:1};function x(){if(!d&&document.body){d=!0;var i=document.body,n=document.documentElement,a=window.innerHeight,u=i.scrollHeight;if(c=document.compatMode.indexOf("CSS")>=0?n:i,e=i,r.keyboardSupport&&N("keydown",S),top!=self)s=!0;else if(Z&&u>a&&(i.offsetHeight<=a||n.offsetHeight<=a)){var f,p=document.createElement("div");p.style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+c.scrollHeight+"px",document.body.appendChild(p),t=function(){f||(f=setTimeout(function(){l||(p.style.height="0",p.style.height=c.scrollHeight+"px",f=null)},500))},setTimeout(t,10),N("resize",t);if((o=new q(t)).observe(i,{attributes:!0,childList:!0,characterData:!1}),c.offsetHeight<=a){var m=document.createElement("div");m.style.clear="both",i.appendChild(m)}}r.fixedBackground||l||(i.style.backgroundAttachment="scroll",n.style.backgroundAttachment="scroll")}}var h=[],w=!1,g=Date.now();function b(e,o,t){var i,n;if(i=(i=o)>0?1:-1,n=(n=t)>0?1:-1,(a.x!==i||a.y!==n)&&(a.x=i,a.y=n,h=[],g=0),1!=r.accelerationMax){var l=Date.now()-g;if(l<r.accelerationDelta){var s=(1+50/l)/2;s>1&&(s=Math.min(s,r.accelerationMax),o*=s,t*=s)}g=Date.now()}if(h.push({x:o,y:t,lastX:o<0?.99:-.99,lastY:t<0?.99:-.99,start:Date.now()}),!w){var d=K(),c=e===d||e===document.body;null==e.$scrollBehavior&&function(e){var o=D(e);if(null==z[o]){var t=getComputedStyle(e,"")["scroll-behavior"];z[o]="smooth"==t}return z[o]}(e)&&(e.$scrollBehavior=e.style.scrollBehavior,e.style.scrollBehavior="auto");var u=function(i){for(var n=Date.now(),l=0,s=0,a=0;a<h.length;a++){var d=h[a],f=n-d.start,p=f>=r.animationTime,m=p?1:f/r.animationTime;r.pulseAlgorithm&&(m=R(m));var x=d.x*m-d.lastX>>0,g=d.y*m-d.lastY>>0;l+=x,s+=g,d.lastX+=x,d.lastY+=g,p&&(h.splice(a,1),a--)}c?window.scrollBy(l,s):(l&&(e.scrollLeft+=l),s&&(e.scrollTop+=s)),o||t||(h=[]),h.length?j(u,e,1e3/r.frameRate+1):(w=!1,null!=e.$scrollBehavior&&(e.style.scrollBehavior=e.$scrollBehavior,e.$scrollBehavior=null))};j(u,e,0),w=!0}}function v(o){d||x();var t=o.target;if(o.defaultPrevented||o.ctrlKey)return!0;if(L(e,"embed")||L(t,"embed")&&/\.pdf/i.test(t.src)||L(e,"object")||t.shadowRoot)return!0;var n=-o.wheelDeltaX||o.deltaX||0,l=-o.wheelDeltaY||o.deltaY||0;f&&(o.wheelDeltaX&&X(o.wheelDeltaX,120)&&(n=o.wheelDeltaX/Math.abs(o.wheelDeltaX)*-120),o.wheelDeltaY&&X(o.wheelDeltaY,120)&&(l=o.wheelDeltaY/Math.abs(o.wheelDeltaY)*-120)),n||l||(l=-o.wheelDelta||0),1===o.deltaMode&&(n*=40,l*=40);var a=A(t);return a?!!function(e){if(!e)return;u.length||(u=[e,e,e]);e=Math.abs(e),u.push(e),u.shift(),clearTimeout(i),i=setTimeout(function(){try{localStorage.SS_deltaBuffer=u.join(",")}catch(e){}},1e3);var o=e>120&&Y(e);return!Y(120)&&!Y(100)&&!o}(l)||(Math.abs(n)>1.2&&(n*=r.stepSize/120),Math.abs(l)>1.2&&(l*=r.stepSize/120),b(a,n,l),o.preventDefault(),void M()):!s||!_||(Object.defineProperty(o,"target",{value:window.frameElement}),parent.wheel(o))}function S(o){var t=o.target,i=o.ctrlKey||o.altKey||o.metaKey||o.shiftKey&&o.keyCode!==p.spacebar;document.body.contains(e)||(e=document.activeElement);var n=/^(button|submit|radio|checkbox|file|color|image)$/i;if(o.defaultPrevented||/^(textarea|select|embed|object)$/i.test(t.nodeName)||L(t,"input")&&!n.test(t.type)||L(e,"video")||function(e){var o=e.target,t=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do{if(t=o.classList&&o.classList.contains("html5-video-controls"))break}while(o=o.parentNode);return t}(o)||t.isContentEditable||i)return!0;if((L(t,"button")||L(t,"input")&&n.test(t.type))&&o.keyCode===p.spacebar)return!0;if(L(t,"input")&&"radio"==t.type&&m[o.keyCode])return!0;var l=0,a=0,d=A(e);if(!d)return!s||!_||parent.keydown(o);var c=d.clientHeight;switch(d==document.body&&(c=window.innerHeight),o.keyCode){case p.up:a=-r.arrowScroll;break;case p.down:a=r.arrowScroll;break;case p.spacebar:a=-(o.shiftKey?1:-1)*c*.9;break;case p.pageup:a=.9*-c;break;case p.pagedown:a=.9*c;break;case p.home:d==document.body&&document.scrollingElement&&(d=document.scrollingElement),a=-d.scrollTop;break;case p.end:var u=d.scrollHeight-d.scrollTop-c;a=u>0?u+10:0;break;case p.left:l=-r.arrowScroll;break;case p.right:l=r.arrowScroll;break;default:return!0}b(d,l,a),o.preventDefault(),M()}function y(o){e=o.target}var T,F,D=(T=0,function(e){return e.uniqueID||(e.uniqueID=T++)}),k={},C={},z={};function M(){clearTimeout(F),F=setInterval(function(){k=C=z={}},1e3)}function E(e,o,t){for(var i=t?k:C,n=e.length;n--;)i[D(e[n])]=o;return o}function O(e,o){return(o?k:C)[D(e)]}function A(e){var o=[],t=document.body,i=c.scrollHeight;do{var n=O(e,!1);if(n)return E(o,n);if(o.push(e),i===e.scrollHeight){var r=H(c)&&H(t)||U(c);if(s&&B(c)||!s&&r)return E(o,K())}else if(B(e)&&U(e))return E(o,e)}while(e=e.parentElement)}function B(e){return e.clientHeight+10<e.scrollHeight}function H(e){return"hidden"!==getComputedStyle(e,"").getPropertyValue("overflow-y")}function U(e){var o=getComputedStyle(e,"").getPropertyValue("overflow-y");return"scroll"===o||"auto"===o}function N(e,o,t){window.addEventListener(e,o,t||!1)}function $(e,o,t){window.removeEventListener(e,o,t||!1)}function L(e,o){return e&&(e.nodeName||"").toLowerCase()===o.toLowerCase()}if(window.localStorage&&localStorage.SS_deltaBuffer)try{u=localStorage.SS_deltaBuffer.split(",")}catch(e){}function X(e,o){return Math.floor(e/o)==e/o}function Y(e){return X(u[0],e)&&X(u[1],e)&&X(u[2],e)}var W,j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,o,t){window.setTimeout(e,t||1e3/60)},q=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,K=(W=document.scrollingElement,function(){if(!W){var e=document.createElement("div");e.style.cssText="height:10000px;width:1px;",document.body.appendChild(e);var o=document.body.scrollTop;document.documentElement.scrollTop,window.scrollBy(0,3),W=document.body.scrollTop!=o?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(e)}return W});function P(e){var o,t;return(e*=r.pulseScale)<1?o=e-(1-Math.exp(-e)):(e-=1,o=(t=Math.exp(-1))+(1-Math.exp(-e))*(1-t)),o*r.pulseNormalize}function R(e){return e>=1?1:e<=0?0:(1==r.pulseNormalize&&(r.pulseNormalize/=P(1)),P(e))}var I=window.navigator.userAgent,V=/Edge/.test(I),_=/chrome/i.test(I)&&!V,Q=/safari/i.test(I)&&!V,G=/mobile/i.test(I),J=/Windows NT 6.1/i.test(I)&&/rv:11/i.test(I),Z=Q&&(/Version\/8/i.test(I)||/Version\/9/i.test(I)),ee=(_||Q||J)&&!G,oe=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){oe=!0}}))}catch(e){}var te=!!oe&&{passive:!1},ie="onwheel"in document.createElement("div")?"wheel":"mousewheel";function ne(e){for(var o in e)n.hasOwnProperty(o)&&(r[o]=e[o])}ie&&ee&&(N(ie,v,te),N("mousedown",y),N("load",x)),ne.destroy=function(){o&&o.disconnect(),$(ie,v),$("mousedown",y),$("keydown",S),$("resize",t),$("load",x)},window.SmoothScrollOptions&&ne(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return ne}):"object"==typeof exports?module.exports=ne:window.SmoothScroll=ne}();